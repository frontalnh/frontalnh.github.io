<!DOCTYPE html>
<html class="has-navbar-fixed-top">

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Jake.Lee&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="google-site-verification" content="PgpnJMuvO-IqYWyFljnyr-tusLhJUz1VRMmECenJyHE">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">






<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="/css/style.css">
<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>

</head>

<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/archives">Archives</a>
            
            <a class="navbar-item " href="/categories">Categories</a>
            
            <a class="navbar-item " href="/tags">Tags</a>
            
            <a class="navbar-item " href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" href="https://github.com/frontalnh">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

        <section class="section">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6354931397950820",
    enable_page_level_ads: true
  });
</script>

    <div class="container">
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/12/21/google-api-사용을-위한-oauth-2-0-적용/" itemprop="url">
                Google API 사용을 위한 OAuth 2.0 적용
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-21T13:32:20.000Z" itemprop="datePublished">
                35 minutes ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/0auth2-0/">0auth2.0</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                13 minutes read (About 1927 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h3><span id="oauth20-은-무엇이며-왜-사용하는가">OAuth2.0 은 무엇이며 왜 사용하는가?</span></h3><p>OAuth 2.0 이란 써드 파티 어플리케이션의 인증을 위한 규약이다.</p>
<p>가령 내가 만든 어플리케이션이 구글의 서비스를 쓰기 위한 다양한 방법이 존재하는데, 대부분의 경우 내가 구글에 가서 인증키를 발급받은 다음에 이 인증키를 어플리케이션 내에 하드코드로 박아 넣는 방식을 사용해 왔다. 이러한 형태의 인증은 매우 흔한데 매우 많은 API 사업자들이 이러한 방식의 인증을 제공한다.</p>
<p>이 경우 해당 키가 탈취되면 매우 심각한 문제가 발생하는데, 해당 키를 가지고 그 어떤 행동도 할 수 있다는 것이다. 이 키는 권한이라는 개념이 없기에 유저의 모든 권한을 가지게 되고 따라서 이 키가 탈취된다는 것은 사용자의 모든 정보가 탈취된 것이라고 봐도 무방하다.</p>
<p>또 요즘과 같이 수많은 API 기반의 IT 서비스가 탄생하고 각 서비스들이 유기적으로 사용되는 경우는 매우 복잡한 인증들이 많이 필요하게 된다. 가령 우리가 흔히 쓰는 업무 툴인 지라만해도 지라에서 나의 구글드라이브에 접근할 권한을 주는 것 처럼 사용자의 특정 서비스에 대한 권한을 위임받는 것은 이제 매우 흔한 것이 되었다.</p>
<p>OAuth 는 이러한 형태의 인증의 새로운 규약을 제공하는데 이번 포스트에서는 내가 만든 어플리케이션이 내 어플리케이션 사용자의 구글 계정에 접근하고 이를 사용할 권한을 할당받아야 하는 경우이다.</p>
<p>일반적으로 생각하면 이를 위해서 가장 편한것은 유저에게 아이디와 비밀번호를 받아 내가 보관하는 것이 있겠다. 사실 개발자 입장에서는 매우 매력적으로 느껴지지만 사실 사용자의 개인정보는 탈탈 털렸고, 나는 사용자의 구글 드라이브의 사진 등 여러 중요 정보에 접근할 수 있을 것이다. 물론 이것은 심각한 상황이고 우리의 고객은 우리를 신뢰하지 않을것이고 신뢰해서도 안될 것이다.</p>
<p>이 경우 괜찮은 방법중 하나는 바로 바로 우리가 구글에 어떤 구글 유저가 우리에게 구글 API 를 사용할 권한을 주고 싶다던데 의심스러우면 너가 물어봐! 라고 하는 방법이 있다. 구글이 직접 사용자에게 질문을 하고 사용자가 이를 허가한다면 이는 매우 바람직한 방법이 아닐 수 없다. </p>
<p>이 경우 문제가 하나 있는데 내가 구글에게 매번 사용자에게 물어봐! 라고 한다면 사용자와 구글은 매우 화가날 것이라는 것이다. 내가 사용자의 구글 드라이브를 사용할때마다 사용자에게 구글에게 답변을 해달라고 하는것은 정말이지 성가신 일이다.</p>
<p>그래서 OAuth 는 좋은 해결방법을 생각해 낸다. 바로 사용자가 구글에게 허가를 해주었다는 인증서를 발급하는 것이다. 이 인증서를 통해 우리는 구글에게 매번 특정 사용자의 권한을 입증할 수 있다. OAuth 에서 이러한 인증서를 access token 이라고 부른다.</p>
<p>하지만 만약 이 인증서가 바뀌지 않는다면 큰 보안 이슈가 있는데, 이 책임은 사실 우리가 져야 할 것이다. 유저는 우리를 믿고 자신의 구글 권한을 부여했는데, 우리가 이를 제대로 보관하지 못했기 때문이다. 여기서 좋은 해답이 하나 있는데 인증서가 계속 만료되게끔 하여 탈취되어도 보다 안전하게 하고 우리가 이를 갱신할 수 있는 별도의 인증서를 보관하는 것이다. 물론 이 인증서도 탈취될 수 있지만 구글은 이 인증서와 우리의 비밀번호를 받아 이를 인증하기 때문에 이것이 해킹당하려면 해커는 인증서를 갱신할 수 있는 토큰 (refresh token) 과 우리의 client secret 두가지를 모두 탈취해야 할 것이다.</p>
<p>따라서 OAuth는 이러한 문제를 잘 해결해 준다.</p>
<h3><span id="google-api-사용을-위한-oauth-인증-절차">Google API 사용을 위한 OAuth 인증 절차</span></h3><p>Google API 에서 OAuth 인증 절차는 다음과 같다.</p>
<p>구글에서 Client ID 와 Client Secret 를 매뉴얼하게 발급받는다. (이는 google api console 에서 할 수 있다.)</p>
<p>이 Client ID 는 나에게 부여되는 공유 번호이고, secret 으로 이를 증명할 수 있다.</p>
<p>우리는 구글에게 어떤 사용자의 권한을 원한다고 요청을 하면 구글은 자신이 만든 별도의 인증페이지로 고객을 보내고 고객이 여기서 자신이 맞다고 하면, 그 인증으로 authentication code 을 발급하여 우리가 전달한 redirect uri 로 요청을 보내준다. 우리는 이 token 을 구글에게 전달해서 access token 과 refresh 토큰을 발급할 수 있는 것이다.</p>
<p>이를 코드로 작성해 보자</p>
<p>먼저 구글에게 우리의 client id 와 원하는 권한의 범위를 정해서 전달한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">https://accounts.google.com/o/oauth2/v2/auth?\</span><br><span class="line">scope=https://www.googleapis.com/auth/analytics&amp;\</span><br><span class="line">redirect_uri=http://localhost:8080&amp;\</span><br><span class="line">client_id=&lt;YOUR_CLIENT_ID&gt;&amp;\</span><br><span class="line">response_type=code</span><br></pre></td></tr></table></figure>
<p>여기서 query parameter 를 한번씩 살펴보면</p>
<p>scope : 어떤 resource 에 대한 권한을 받을 것인가</p>
<p>redirect_uri: 구글이 유저에게 확인을 한 뒤에 어디로 요청을 반환해줄 것인가</p>
<p>response_type: code 라고 써줘야 한다 뭔지 모름…</p>
<p>client_id: 내 어플리케이션이 발급받은 client id</p>
<p><strong>위 요청을 브라우저에서 실행</strong>하면 브라우저에서 사용자임을 묻는 창으로 이동하게 되는데, 이를 넘기면 <strong>위에서 정한  redirect url 로 query 에 code를 담아 반환</strong>해주고 이 code를 다시 아래와 같이  우리의 client secret 과 함께 구글에 보내주면 우리는 비로소 access token 과 refresh token 을 발급받을 수 있다.</p>
<p>여기서 주의해야할 점은 redirect_url 에 명시된 호스트에서 응답을 받을 준비를 해야한다는 것이다.</p>
<p>만약 해당 url 에서 요청을 받아 authentication code 를 잘 받아주어야 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl +X POST &lt;https://oauth2.googleapis.com/token?code=&gt;&lt;당신의 인증 코드&gt;&amp;client_id=&lt;당신의 클라이언트 아이디&gt;&amp;client_secret=&lt;당신의 클라이언트 secret&gt;&amp;redirect_uri=http://localhost:8080&amp;grant_type=authorization_code</span><br></pre></td></tr></table></figure>
<p>code: authentication code</p>
<p>client_id: id of the application client</p>
<p>client_secret: you secret</p>
<p>redirect_uri</p>
<p>grant_type: hard code authorization_code which represents grant type</p>
<p>redirect_url 의 서버가 사용자의 authentication code 를 받아 위 요청을 보내면 access_token 과 refresh token 을 발급받을 수 있다.</p>
<p>만약 추후에 access_token 이 만료된다면 refresh token 으로 아래처럼 새로운 access_token 을 발급받을 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST \\</span><br><span class="line">  &lt;https://oauth2.googleapis.com/token&gt; \\</span><br><span class="line">  -H &apos;Content-Type: application/x-www-form-urlencoded,multipart/form-data;&apos; \\</span><br><span class="line">  -H &apos;content-type: multipart/form-data</span><br><span class="line">  -F client_id=client_id \\</span><br><span class="line">  -F client_secret=client_secret \\</span><br><span class="line">  -F refresh_token=refresh_token \\</span><br><span class="line">  -F grant_type=refresh_token</span><br></pre></td></tr></table></figure>
<p>이렇게 발급받은 토큰을 Header 에 Authorization Bearer 방식으로 담아 보내면 우리는 드디어 구글 API 를 사용할 수 있게 된다!!</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/09/29/jenkins-를-활용한-ci-cd-파이프라인-구축하기/" itemprop="url">
                Jenkins 를 활용한 CI/CD 파이프라인 구축하기
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-09-29T07:23:17.000Z" itemprop="datePublished">
                3 months ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/jenkins/">Jenkins</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                13 minutes read (About 1882 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="개요">개요</span></h2><p>소프트웨어 개발에서 CI/CD 란 Continuous Integration and Continuous delivery 의 약어로 다음과 같은 의미를 가집니다.</p>
<p><strong>먼저, Continuous Integration 이란</strong> <strong>여러 사람이 작업한 여러 작업 내용을 하나로 원활하게 병합하는 것을 의미합니다.</strong> 예를 들어 한 회사에서 3명의 개발자가 하나의 프로젝트를 개발한다면, 세 사람의 작업내용을 하나로 합치는 것은 매우 번거로운 일이 아닐 수 없습니다. 각 개발자 사이의 작업 내용이 겹칠 수도 있고, 다른 사람의 작업 결과가 또 다른 사람의 작업 내용에 변화를 미칠 수도 있습니다. 또, 각 개발자가 열심히 테스트코드를 작성해 두었다 한들 누군가 한명이 각 개발자의 변화된 개발분을 다운로드 해서 테스트 코드를 돌려보고 그 위에 자신의 개발분의 적용시켜 다음 테스트를 돌리는 등 여러 노력이 필요하게 됩니다.</p>
<p>현대 개발 패러다임에서는 이러한 코드 변화와 버전관리를 위한 여러 tool 이 존재하며, 가장 대표적인 버전관리 툴인 <strong>Git</strong> 을 예로 들어 설명을 하면, 각 개발자는 각각 자신의 <strong>feature</strong> 브랜치를 만들어 작업을 하고 이를 하나의 <strong>master</strong> 브랜치에 합치는 행위를 반복하는데, 각 commit 들이 안정적으로 master 에 반영된 것을 확인하기 위해서는 테스트코드를 돌려보는 등의 검증을 거쳐야 합니다.</p>
<p>Jenkins 는 이렇게 여러 branch 를 master 로 병합함에 있어, 테스트 코드 실행 linting 등 master 로 다른 변화들이 안정적으로 병합되기 위한 일련의 과정을 자동으로 처리하고 모든 commit 이 master 에 안정적으로 반영될 수 있게 도와줍니다.</p>
<p><strong>그 다음으로 Continuous Delivery</strong> 란 이렇게 합쳐진 하나의 master 코드 베이스를 실제 사용자가 사용하는 production 환경에 쉽고 안정적으로 배포되게 하는 것을 말합니다.</p>
<p>가령, 소프트 웨어의 배포에는 여러 활동이 포함될 수 있는데, 각 소스코드를 빌드하는 것은 기본이고, 빌드된 바이너리 파일 혹은 docker image 등을 실제 production 환경에 배포하는 것은 규모가 큰 서비스 에서는 수십대의 서버의 프로세스를 교체해 주어야 하며, 또 그 모든 과정에 있어 사용자가 서비스를 이용함에 불편함이 없도록 안정적으로 이루어 져야 합니다. Jenkins 는 이렇게 배포될 소프트웨어를 실제 환경에 안정적으로 배포하기 위한 다양한 기능을 제공합니다.</p>
<p><strong>이번 포스트에서는 Git 과 Jenkins 를 활용하여 아주 기본적인 Continuous Integration 파이프라인을 구축해 보도록 할 것이며, 그 과정은 다음과 같습니다.</strong></p>
<ol>
<li>Feature  브랜치에 코드를 작성합니다.<br>이 코드에는 단순히 서비스 로직 뿐만 아니라 Jenkins 가 실행시킬 테스트코드와 Linting rule 또한 포함이 되어야 합니다.</li>
<li>Master 브랜치에 Feature 브랜치를 머지합니다.<br>브랜치가 merge 되면, Jenkins 는 github 에서 이 사실을 듣고, git 소스코드를 다운로드 받아 테스트코드와 lint 를 실행합니다.</li>
<li>코드가 안정적으로 병합되었다면, Jenkins 는 소스코드를 빌드하고 ( 이번 포스트에서는 docker container 를 활용한 배포를 가정하므로 docker image 를 생성합니다 ) 서버에게 이 이미지를 다운로드 받아 실행하게 합니다.</li>
</ol>
<h2><span id="aws-ec2-instance-에-jenkins-설치하기">AWS EC2 Instance 에 Jenkins 설치하기</span></h2><p>먼저 이 모든 CI/CD 작업을 수행할 Jenkins Server 를 만들어 봅시다.</p>
<p>AWS 에서 Amazon Linux 기반의 인스턴스 하나를 생성하고 다음과 같은 script 를 통해 Jenkins 를 설치합니다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">sudo yum update -y</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Jenkins 는 Java 8 runtime 위에서 실행되므로 java open jdk 를 먼저 설치해 줍니다.</span><br><span class="line">sudo yum install -y java-1.8.0-openjdk wget</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Jenkins 설치</span><br><span class="line">wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Jenkins 가 사용할 docker 와 git 을 설치해 줍니다.</span><br><span class="line">sudo yum install -y jenkins git docker</span><br><span class="line">java -jar jenkins.war --httpPort=8080</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Git configuration</span><br><span class="line">sudo -u jenkins git config --global credential.helper '!aws codecommit credential-helper $@'</span><br><span class="line">sudo -u jenkins git config --global credential.useHttpPath true</span><br><span class="line">sudo -u jenkins git config --global user.name 'jenkins-workder'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Start docker machine</span><br><span class="line">sudo chmod 666 /var/run/docker.sock</span><br><span class="line">sudo service docker start</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> Add jenkins user in docker group so that jenkins user can use docker machine</span><br><span class="line">groupadd docker</span><br><span class="line">sudo usermod -aG docker jenkins</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> You should restart jenkins to apply updated user group</span><br><span class="line">sudo service jenkins restart</span><br></pre></td></tr></table></figure>
<h2><span id="jenkins-설정하기">Jenkins 설정하기</span></h2><p>위처럼 Jenkins 를 설치하고 Jenkins server 를 생행했다면, <a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a> 에 jenkins dashboard 가 열리게 됩니다.</p>
<p>본 dashboard 에서 jenkins 를 설정하면되며, 초기 비밀번호는 <code>/var/lib/jenkins/secrets/initailAdminPassword</code> 에 위치해 있다. </p>
<h3><span id="aws-configuration">AWS configuration</span></h3><p>Jenkins 가 was 를 사용하기 위해 다음과 같이 AWS 계정 설정을 해준다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u jenkins aws configure</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">echo "AWS_ACCESS_KEY=123456789"&gt;&gt;~/.bash_profile</span><br><span class="line">echo "AWS_SECRET_ACCESS_KEY=123456789"&gt;&gt;~/.bash_profile</span><br><span class="line">echo "AWS_DEFAULT_REGION=123456789"&gt;&gt;~/.bash_profile</span><br><span class="line"></span><br><span class="line">sudo mkdir /var/lib/jenkins/.aws</span><br><span class="line">sudo touch /var/lib/jenkins/.aws/credentials</span><br><span class="line">sudo echo "[default]" &gt;&gt; /var/lib/jenkins/.aws/credentials</span><br><span class="line">sudo echo "aws_access_key_id=123456789" &gt;&gt; /var/lib/jenkins/.aws/credentials</span><br><span class="line">sudo echo "aws_secret_access_key=123456789" &gt;&gt; /var/lib/jenkins/.aws/credentials</span><br></pre></td></tr></table></figure>
<p>만약 jenkins 에서 aws cli 를 사용하는 경우 aws credential을 <code>/var/lib/jenkins/.aws/credentials</code> 에서 찾기 때문에 해당 파일에도 credentials 을 위치시켜야 한다.</p>
<p><a href="http://localhost:8080/configure" target="_blank" rel="noopener">jenkins 설정</a>에서도 위의 Environment Variables 를 설정해 준다.</p>
<p>Jenkins node 가 ecr 을 사용할 수 있도록 다음 명령어를 실행한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>(aws ecr get-login --no-include-email)</span><br></pre></td></tr></table></figure>
<p><strong>만약 git repository 대신 AWS codecommit repository</strong> 를 사용한다면, 해당 key 를 AWS IAM user 탭에서 code commit http 설정을 할 수 있다.</p>
<h3><span id="git-configuration">Git configuration</span></h3><p>Jenkins 가 git 을 사용하기 위해 다음과 같이 git 설정을 해준다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd ~jenkins</span><br><span class="line"></span><br><span class="line">sudo -u jenkins git config --global credential.helper '!aws codecommit credential-helper $@'</span><br><span class="line">sudo -u jenkins git config --global credential.useHttpPath true</span><br><span class="line">sudo -u jenkins git config --global user.email "me@mycompany.com"</span><br><span class="line">sudo -u jenkins git config --global user.name "MyjenkinsServer"</span><br></pre></td></tr></table></figure>
<p>또한 jenkins 가 private repository 에 접근하려면, git credential 을 jenkins 에 등록해 주어야 하며 이는 jenkins configuration 의 <a href="http://localhost:8080/credentials/store/system/domain/_/newCredentials" target="_blank" rel="noopener">credential 세팅</a>에서 해줄 수 있다.</p>
<h2><span id="jenkins-migration-guide">Jenkins migration guide</span></h2><p>Jenkins 를 설치운영할때 Jenkins 서버를 migrate 할 필요성이 생길 수 있다.</p>
<p>Jenkin 의 모든 설정을 GUI 를 통해 했기 때문에, 모든 과정을 반복하는 것은 정말 성가신 일이 아닐 수 없다.</p>
<p>Jenkins 는 모든 설정을 파일 시스템에 저장하기 때문에, Jenkins directory 의 data 들만 잘 이동해 주면, 모든 설정 정보를 안전하고 편리하게 이관할 수 있으며, 그 위치는 <code>/var/lib/jenkins</code> 에 있다.</p>
<p><strong>주의 사항</strong></p>
<p>여기서 주의할 사항이 있는데, Jenkins directory 는 system directory 이므로 mv 명령이 제대로 수행되지 않는 경우가 있다.</p>
<p>때문에, 파일을 복사하기 앞서 directory 권한을 알맞게 변경해 주어야 한다. 또한, 복사한 파일의 user 와 group 이 linux user 로 변경되므로 반드시 복사 이후에 올바른 file owner 인 jenkins 로 변경해 주어야 하는데, 이는 다음의 명령어로 해결할 수 있다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> jenkins:jenkins 사용자:그룹</span><br><span class="line"><span class="meta">#</span> -R recursive</span><br><span class="line">sudo chown -R jenkins:jenkins /var/lib/jenkins</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/07/21/git-in-action/" itemprop="url">
                Git in action
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-07-21T04:20:31.000Z" itemprop="datePublished">
                5 months ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/git/">git</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                19 minutes read (About 2903 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <!--toc-->
<h2><span id="installation">Installation</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git-all</span><br></pre></td></tr></table></figure>
<h2><span id="terminology">Terminology</span></h2><p><strong>Branch</strong> 란 commit 의 나열을 의미한다. 서로 다른 branch 란 서로 다른 작업 내역의 합이고 이러한 작업내역을 서로 합치고 변경하면서 여러 형태의 code base 가 존재할 수 있다.</p>
<p><strong>Commit</strong> 이란 code base 의 변화내역을 의미한다. 즉, git 에서 현재 code base 의 최종상태는 과거의 commit 들의 합을 의미하고, 특정 commit 을 변경하는 행위는 과거의 특정 시점의 작업 내용을 변경함을 의미한다. git 에서 이러한 commit 은 매우 핵심적인 역할을 한다.</p>
<p><strong>HEAD</strong> 현재 내가 있는 commit 을 의미한다. 내가 현재 있는 곳은 사용자에게 매우 직관적이기에 git 에서는 특정 commit 의 고유한 identity 인 commit hash 대신에 HEAD 를 기준으로 commit hash 를 표현하는 경우가 많다. 가령 <code>HEAD~3</code> 이란 현재 내가 있는 commit 으로부터 앞에서 3번째 커밋의 hash 를 가리킨다. </p>
<h2><span id="setup">Setup</span></h2><h3><span id="global-setup">Global setup</span></h3><p>git 의 사용자 정보 및 사용자별 다른 연결 정보등과 같은 공통의 설정들은 <code>&lt;home&gt;/.gitconfig</code> 파일에 설정할 수 있다.</p>
<p>이는 <code>git config --global user.name = &lt;USER_NAME&gt;</code> 등과 같은 명령어를 통해서도 가능하지만 파일에 직접 설정을 작성할 수 있다.</p>
<p>~/.gitconfig</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">	name = &lt;사용자 이름&gt;</span><br><span class="line">	email = &lt;사용자 이메일&gt;</span><br><span class="line">	username = &lt;USER_NAME&gt;</span><br><span class="line">	</span><br><span class="line">[credential]</span><br><span class="line">	helper = cache # 비밀번호를 캐싱하여 계속 입력하지 않아도 되도록 한다.</span><br><span class="line">	</span><br><span class="line"><span class="meta">#</span><span class="bash"> 특정 repository 에 대한 credential 을 설정한다.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 예를 들어 만약 코드 커밋을 사용한다면 다음과 같이 code commit repository 세팅을 다음과 같이 할 수 있다.</span></span><br><span class="line">[credential "&lt;CODE_COMMIT_REPOSITORY&gt;"] </span><br><span class="line">	helper = !aws codecommit credential-helper $@</span><br><span class="line">	UseHttpPath = true</span><br></pre></td></tr></table></figure>
<p> 위 설정은 간단히 아래의 커맨드로도 가능하다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &lt;USER_NAME&gt;</span><br><span class="line">git config --global user.email &lt;USER_EMAIL&gt;</span><br><span class="line">git config credential.helper cache</span><br><span class="line">git config --list # 설정한 내용 확인</span><br></pre></td></tr></table></figure>
<h3><span id="repository-level-setup">Repository level setup</span></h3><p>위처럼 git 의 system 전역 세팅이 아닌 특정 git repository 마다 다른 세팅을 하고자 한다면 다음과 같은 레포지토리 마다 설정을 해줄 수 있다.</p>
<p>특정 repository 의 <code>.git</code> 디렉토리의 <code>config</code> 파일에 git 세팅을 할 수 있다.</p>
<h3><span id="ssh-setup">SSH setup</span></h3><p>Git repository 에 인증체계는 https 방식과 ssh 방식이 있는데, https 방식은 유저네임과 패스워드로 레포지토리 인증을 하는 것이고, ssh 방식에서는 사용자 pc 의 ssh 공개키를 github repository 에 등록하여 인증을 하는 방식이다.</p>
<p>먼저 ssh 인증 방식은 다음과 같다.</p>
<p>먼저, ssh를 활용하여 연결하기 위해서 컴퓨터의 ssh key를 생성하고, 생성된 공개키는 git에 등록한다.<br>공개키를 사용하려면 일단 공개키를 만들어야 하는데, 공개키를 만드는 방법은 모든 운영체제가 비슷하다.<br>먼저 키가 있는지부터 확인하자. 사용자의 SSH 키들은 기본적으로 사용자의 ~/.ssh 디렉토리에 저장한다.</p>
<p>리눅스 혹은 ubuntu의 경우 ssh-keygen을 통해 공개키/개인키 쌍을 생성할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure>
<p>위 명령어를 통해 공개키를 생성하였으면 ~/.ssh 디렉토리에 id_rsa.pub가 생성되었을 것이다.<br>해당 공개키를 git 홈페이지의 repository의 설정에서 등록해 주면 된다.</p>
<p><a href="https://git-scm.com/book/ko/v1/Git-%EC%84%9C%EB%B2%84-SSH-%EA%B3%B5%EA%B0%9C%ED%82%A4-%EB%A7%8C%EB%93%A4%EA%B8%B0" target="_blank" rel="noopener">참조</a></p>
<h2><span id="git-add">Git Add</span></h2><h3><span id="추가된-파일-포함시키고-커밋하기">추가된 파일 포함시키고 커밋하기</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 모든 파일 추가</span></span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 특정 파일 추가</span></span><br><span class="line">git add &lt;FILE_NAME&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="branch">branch</span></h2><h3><span id="브랜치-생성-및-변경">브랜치 생성 및 변경</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch [브랜치명]</span><br><span class="line">git checkout [브랜치명]</span><br></pre></td></tr></table></figure>
<p>git branch [브랜치명] 명령어로 브랜치를 생성하고<br>git checkout [브랜치명] 명령어를 통해 브랜치를 변경한다.<br>여기서 checkout은 단순히 브랜치를 옮기는 것으로 지금까지의 변경내용이 바뀌지 않고 해당 브랜치로 이동하기 때문에<br>해당 브랜치에 지금의 변경내용이 전부 반영된다.</p>
<h3><span id="브랜치-삭제하기">브랜치 삭제하기</span></h3><p><code>git branch -d [branch Name]</code></p>
<h2><span id="commit">commit</span></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 커밋하기</span></span><br><span class="line">git commit -m "메세지"</span><br></pre></td></tr></table></figure>
<h2><span id="checkout">checkout</span></h2><p>Checkout 명령어는 현재 나의 code base 를 특정 커밋 혹은 브랜치로 옮기는 것이다.</p>
<p>사실 더 정확한 표현은 특정 커밋으로 옮긴다고 하는 것이 맞는 표현일 것 같다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 특정 브랜치로 code base 이동</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 사실 특정 브랜치 이름은 특정 커밋 해쉬를 의미한다.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 해당 브랜치의 마지막 commit 으로 이동한다고 보면 된다.</span></span><br><span class="line">git checkout &lt;BRANCH_NAME&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 특정 커밋으로 code base 이동</span></span><br><span class="line">git checkout &lt;COMMIT_HASH&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 특정 파일만 특정 commit 으로 이동</span></span><br><span class="line">git checkout &lt;COMMIT_HASH&gt; &lt;FILE_NAME&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="원격-브랜치-가져오기">원격 브랜치 가져오기</span></h3><p><code>git checkout -t origin/eventsource</code></p>
<p>### </p>
<h2><span id="log">log</span></h2><p>먼저 커밋 내역을 확인할 수 있도록 log를 확인한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure>
<h2><span id="merge">merge</span></h2><p>머지하기<br><code>git checkout master</code>를 통해 마스터로 이동한다<br><code>git merge [commit name]</code></p>
<h2><span id="push">push</span></h2><p>원격 코드베이스에 나의 코드를 밀어넣는다.</p>
<p>업스트림(upstream) 브랜치 설정<br>로컬 저장소를 init 명령어로 생성했을땐 수동으로 업스트림 브랜치를 설정할 필요가 있다. 업스트림 브랜치란 원격 저장소와 바로 연결된 로컬 저장소를 말하며 push나 pull 명령등에서 원격 저장소 이름을 생략할 수 있게 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --set-upstream origin master</span><br></pre></td></tr></table></figure>
<p>밀어넣기<br><code>git push origin [branch]</code></p>
<p>강제로 밀어넣기<br><code>git push -u origin master</code></p>
<h2><span id="pull">pull</span></h2><p>풀받기<br><code>git pull [remote 저장소] [브랜치]</code></p>
<h2><span id="rebase">rebase</span></h2><p>Rebase 란 말 그대로 시작점을 다시 설정하는 것이다.</p>
<p>git 의 코드관리는 복잡해 보이지만 기본적으로 최초의 하나의 뿌리에서 부터 여러 갈래로 갈라져 나간 나무의 형태를 띄고 있다. 여기서 rebase 의 의미는 현재 나의 branch 와 합치고 싶은 다른 branch 의 base 즉 갈라져 나온 최초의 commit 시점을 찾아서 그 이후로 진행한 나의 모든 가지를 통으로 잘라서 다른 branch 의 끝으로 옮겨붙이는 것이다.</p>
<p>실제 나무에서 하나의 가지를 통으로 잘라내어 붙이고 싶은 가지를 선택해 그 가지의 끝에 잘라낸 가지를 옮겨붙이는 것을 생각하면 쉽게 이해할 수 있다.</p>
<p>이러한 rebase 는 상대방의 모든 코드 변화 이후에 나의 코드변화를 빠짐없이 적용할 수 있다는 점에서 매우 유용하다.</p>
<p>가령 친구와 나의 교과서 필기를 하나로 합치고 싶은데 제일 깔끔한 친구의 노트에 내 모든 필기내용을 한반에 옮겨적는 것을 생각해 보면 된다. 이 얼마나 편리한가! 만약 여기서 친구와 내가 같은 페이지에 다른 내용을 기록했다면 여기서 어떤 내용을 최종으로 작성할지 결정하는 작업이 필요하다.</p>
<h3><span id="과거-나의-커밋-내용을-수정하기">과거 나의 커밋 내용을 수정하기</span></h3><p>open source 활동을 하거나 혹은 대규모의 프로젝트를 진행할때 겪는 가장 큰 문제는 내가 작성한 과거의 코드내용, 즉 과거의 커밋 내용을 수정하는 것이다.</p>
<p>대부분의 경우 feature 브랜치에서 많은 내용을 수정하고 중간중간 변경 사항에 대해 commit 으로 기록하기 때문에 과거의 커밋을 바꾸기 위해서는 까마득한 예전의 코드로 돌아가 그 특정 부분을 수정하고 그 뒤의 변경사항을 다시 재적용 시키는 일이 필요하다.</p>
<p>이 경우에는 <code>git rebase</code> 명령을 사용하여 해결할 수 있으며 다음과 같은 절차를 거친다.</p>
<ol>
<li><code>git log</code> 를 통해 나의 이전 커밋 내용을 확인한다.</li>
<li><code>git rebase -i HEAD~n</code> 를 통해 HEAD로 부터 얼마나 뒤 내용을 수정하고 rebase를 진행할지 정해준다. 가령 HEAD 로 부터 3 번째 커밋부터의 커밋들에 수정사항이 있다면 <code>git rebase -i HEAD~3</code> 명령어를 입력한다.</li>
<li>위 명령어를 입력하면 과거의 커밋들이 나타나고 커밋명 앞에 pick 이라는 키워드가 있다. 여기서 우리가 수정하기를 원하는 커밋의 pick 키워드를 e(edit) 으로 바꿔준다.</li>
<li>이제 git이 edit 하고자 하는 커밋으로 코드를 돌려주고 원하는 내용을 수정한 뒤에 <code>git commit --amend</code> 를 해주면 해당 커밋을 수정하여 다시 커밋하고 <code>git rebase --continue</code> 명령을 통해 뒤의 커밋들을 쭉 적용시켜 줄 수 있다.</li>
</ol>
<h2><span id="remote">remote</span></h2><h3><span id="원격-레포지토리-등록하기">원격 레포지토리 등록하기</span></h3><p>원격 저장소와 코드를 주고 받기 위해 가장 먼저 해야 할 일은 원격 저장소가 어디에 있는지를 알려주는 일이다.<br>다음과 같은 코드를 입력하기 원격저장소 origin의 위치를 등록해 준다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin &lt;GIT_REPOSITORY&gt;</span><br></pre></td></tr></table></figure>
<h2><span id="revert">revert</span></h2><p>이번에는 기존에 한 커밋을 되돌리는 법을 배운다.</p>
<p>뒤로 돌리기</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git revert HEAD</span><br></pre></td></tr></table></figure>
<p>명령어를 통해 HEAD에 마지막으로 커밋된 내용을 뒤로 돌린다.</p>
<p>이 revert 에서 주의할 점은 해당 커밋의 변경내용을 정확히 반대로 하는 새로운 commit 을 만들어 내는 것이다.</p>
<p>즉, revert 를 하면 revert 하고싶은 commit 을 뒤로 돌리는 새로운 업데이트에 대한 commit 을 만들어 낸다.</p>
<h2><span id="stash">stash</span></h2><h3><span id="로컬-작업-내용-버리기-혹은-저장하기">로컬 작업 내용 버리기 혹은 저장하기</span></h3><p>당신이 어떤 프로젝트에서 한 부분을 담당하고 있다고 하자. 그리고 여기에서 뭔가 작업하던 일이 있고 다른 요청이 들어와서 잠시 브랜치를 변경해야 할 일이 생겼다고 치자. 아직 완료하지 않은 일을 커밋하는 것은 좀 껄끄럽다. 이런 상황에서는 커밋하지 않고 나중에 다시 돌아와서 작업을 다시 하고 싶을 것이다. 이 문제는 git stash라는 명령으로 해결할 수 있다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git stash // stash difference</span><br><span class="line">git stash clear // deled stased</span><br><span class="line">git stash list // list up stashed</span><br><span class="line"><span class="meta">#</span><span class="bash"> stash 한 변경 내용들 불러오기</span></span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>
<p>## </p>
<h2><span id="configuration">Configuration</span></h2><h3><span id="repository-wide-ssh-setup">Repository wide ssh setup</span></h3><p>아래 명령어는 특정 레포지토리의 ssh 인증키를 별도로 세팅하는 코드이다. 이를 통해 여러개의 레포지토리 마다 별도의 ssh 인증키를 사용할 수 있다. 개인 pc 에서 업무용 repository 에 접근하는 경우라면 이러한 세팅은 매우 편리하다.</p>
<p>아래 명령어를 git repository 에서 실행함으로 간편하게 repository level 에서의 인증키를 등록할 수 있고</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --local --add core.sshCommand 'ssh -i ~/your_key'</span><br></pre></td></tr></table></figure>
<p>혹은 아래와 같이 직접 <code>.git/config</code> 파일을 수정할 수 있다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">sshCommand = "ssh -i ~/.ssh/&lt;KEY_FILE&gt;"</span><br></pre></td></tr></table></figure>
<h3><span id="git-home-디렉토리-변경하기">git home 디렉토리 변경하기</span></h3><p>git 아이콘을 우클릭하여 대상 뒤의 –cd-home을 없애고</p>
<p>시작위치에 원하는 위치를 넣어준다.</p>
<p><strong>CLI 에서 비밀번호 저장하기</strong></p>
<p><code>git config credential.helper store</code></p>
<h3><span id="2fa-인증">2FA 인증</span></h3><p>git authentication</p>
<p>git 에서 2FA 인증을 하는 경우 personal access token을 발급받아서 해야한다.</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/07/01/kubernetes-cookbook/" itemprop="url">
                Kubernetes cookbook
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-07-01T14:13:16.000Z" itemprop="datePublished">
                6 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 51 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="prerequisite">Prerequisite</span></h2><p>Install</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://sdk.cloud.google.com | bash</span><br></pre></td></tr></table></figure>
<p>login</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gcloud auth login</span><br><span class="line">gcloud auth login --no-launch-browser # no browser</span><br><span class="line">gcloud config list project</span><br></pre></td></tr></table></figure>
<p>set project</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcloud config set project &lt;PROJECT_ID&gt;</span><br><span class="line">gcloud config list project # list project</span><br></pre></td></tr></table></figure>
<p>install kubernetese</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://get.k8s.io | bash</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/06/19/getting-started-with-docker-swarm/" itemprop="url">
                Getting started with docker swarm
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-06-19T08:24:21.000Z" itemprop="datePublished">
                6 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 20 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="installation">installation</span></h2><p><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">https://www.virtualbox.org/wiki/Downloads</a></p>
<h2><span id="basic-setup">Basic setup</span></h2><h3><span id="create-virtual-machine-for-docker">Create virtual machine for docker</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-machine create --driver=virtualbox &lt;VM_NAME&gt;</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/06/18/getting-started-with-waf/" itemprop="url">
                Getting started with WAF
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-06-18T08:15:52.000Z" itemprop="datePublished">
                6 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 49 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <p>WAF stands for website application firewall</p>
<p>A WAF keeps the malicious traffic off your website</p>
<h2><span id="how-does-it-works">how does it works?</span></h2><p>the waf works as a vaccine for a website.</p>
<p>application firewalls go beyond the metadata of the packets transferred at the network level.</p>
<p>they focus on the data in transfer.</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/06/18/getting-started-with-aws-cloudfront/" itemprop="url">
                Getting started with AWS Cloudfront
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-06-18T01:16:59.000Z" itemprop="datePublished">
                6 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                2 minutes read (About 243 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <p>Cloudfront sms 정적, 동적 웹 콘텐츠를 빠르게 distribute 하기 위한 서비스이다.</p>
<p>이를 위해 aws 는 edge location 이라는 데이터 센터의 네트워크에 사용자의 데이터를 보관한다.</p>
<p>여기서 제일 빠르게 배포될 수 있는 edge location 으로 route 된다.</p>
<p>만약 해당하는 edge location 에 파일이 없다면, cloudfront 는 원본 위치에서 파일을 가져온다.</p>
<p>cloudfront 를 사용하지 않으면 네트워크는 해당 파일이 어디에 있는지 모르기 때문에 여러 네트워크를 경유해서 낮은 latency 를 가지게 된다.</p>
<p>당시의 파일은 여러개의 edge location 에 복사되어 저장된다.</p>
<h2><span id="how-to-setup">How to setup</span></h2><ol>
<li><p>specify origin server like s3 ec2 etc…</p>
</li>
<li><p>upload file to origin server<br>including web pages, fines, </p>
<p>if you use s3bucket make it public</p>
</li>
<li><p>create cloudfron distribution</p>
</li>
<li><p>Cloudfron assigns a domain name to you new distribution that you can see in cloudformation console</p>
</li>
<li><p>edge locations which is collections of servers in geographically dispersed data centers copies of your objects</p>
</li>
</ol>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/06/06/가치투자-시장의-왜곡에서-기회를-잡아라/" itemprop="url">
                가치투자, 시장의 왜곡에서 기회를 잡아라.
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-06-06T06:07:19.000Z" itemprop="datePublished">
                7 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                11 minutes read (About 1655 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="시장의-왜곡에서-기회를-잡아라">시장의 왜곡에서 기회를 잡아라</span></h2><p><em>시장에 대한 대중의 잘못된 판단으로 오평가된 기업을 찾아라</em></p>
<p>시장은 합리적인 사람들이 모여있는 곳이 아니다. 가령 특정 기사로 인해 잘못된 관념으로 주가가 폭락, 폭등 할 수 있다. 하나의 좋은 예는 바로 월드 트레이드 테러가 일어난 2001년 전 세계 보험 주식은 보상금에 대한 우려로 폭락하였고 이는 우리나라도 마찬가지 였다. 우리 나라의 ‘대한재보험’의 경우 테러 이후 주가가 하한가를 찍을만큼 주가가 폭등하였는데, 이는 미국 보험사와 국내 보험사에 관계가 있지 않을까 하는 대중의 막연한 추측 때문이었고, 실제로는 아무 관계가 없었다. 오히려 국내 보험시장은 해외의 테러 사테를 본 뒤 보험의 필요성을 느껴 보험을 가입하는 많은 사람들 때문에 수익성이 개선되었다. 머지 않아 해당 보험사의 주가를 원래 가격을 되찾았으며, 시장의 왜곡을 눈치챈 사람들은 저평가된 주식을 매수하여 큰 수익을 올렸다.</p>
<p><em>폭락하는 주식을 눈여겨 보라, 대중의 오해로 인한 시장의 왜곡이 존재하지 않는가?</em></p>
<h3><span id="재정의형-기업">재정의형 기업</span></h3><p>사업을 재정의 한다는 것은 그 기업이 하고 있는 사업은 변함이 없지만 그 기업의 경쟁우위와 본질을 파악하여 재정의 하는 것이다. 가령 나이키의 경우 대부분의 사람들은 그저 그런 신발 가게라고 생각했을 것이다. 하지만 나이키의 운영방식을 잘 알아본 사람들은 나이키는 오히려 신발의 생산에는 거의 관여하지 않고 브랜드와 디자인만을 담당하는 마케팅 기업이라는 사실을 눈치챘을 것이다. 이런 가치를 알아본 사람들은 나이키에 투자했고, 막대한 투자수익을 거둘 수 있었을 것이다.</p>
<p>과거 ‘동양제과’ 의 사례를 살펴보면 ‘동양제과’ 는 대형 미디어 그룹의 지주회사로 재평가 되어야 한다.</p>
<p>‘동양제과’ 는 바둑 TV 와 OCN, 투니버스 등 방송사의 지주회사이며, 해당 업체들을 흑자로 잘 운영되고 있다. 이 경우 투자자들은 기존 ‘동양제과’ 가 하던 사업을 넘어서 소속 기업들의 영업실적이 지주회사인 ‘동양제과’ 에 어떤 영향을 미칠지 잘 판단해야 한다.</p>
<p>이러한 재정의 기업들을 물색하기 위해서는 어떻게 해야 할까?</p>
<p>사실 이런 재정의형 기업의 경우 기업이 행보에 관심을 가지지 않으면, 이를 잘 알기 어렵다. 이 경우 각종 기사를 통해 경영 성과에 긍정적인 변화가 있는 기업들의 모회사를 조사하거나, 어떤 회사가 기존에 하지 않던 새로운 신사업을 시작한다던가 하는 기업의 중대한 경영 방침들을 지속적으로 트래킹 해야 한다.</p>
<p>만약 관심가는 산업분야가 있다면, 해당 산업의 주요 기업들의 사업의 방향을 잘 따라가다 보면 좋은 기회를 얻을 수 있다.</p>
<h3><span id="업계의-경기는-개별-기업의-경기와-다를-수-있다">업계의 경기는 개별 기업의 경기와 다를 수 있다.</span></h3><p>또한 산업 자체가 사양산업이라 불리는 경우 많은 투자자들은 사양산업에 속한 기업들의 주식을 팔아치우는 현상이 생기게 된다. 하지만, 산업군과 기업은 엄연히 다르다. 특히 성장형 산업의 경우 수많은 업체들이 들어오는 반면 사양산업은 새로운 업체가 들어오지 않을 확률이 높고 특정 제품군이 나머지 업체를 흡수하여 winner takes all 구조를 보이는 경우가 많다.</p>
<p>요즘 시대의 경우 대부분의 신사업들을 AI 와 블록체인들 소프트웨어 기반의 지식산업으로 그 무게가 이동하고 있기에, 기존의 중공업과 같은 업계는 이제 한물 갔다는 풍조가 강해지고 있다. 또, 국내 반도체 실적 전망과 부품업계의 소식을 접한다면 해당 업계의 모든 기업들에 대한 부정적인 이미지를 가지기 쉽다. 때문에 이러한 업계의 불황은 대부분의 투자자들이 거짓 위험을 감지하게 만들고 훌륭한 펀더멘탈을 가진 기업들이 저평가되게 만들며, 훌륭한 투자자라면 옥석을 가려 매수할 기회를 보아야 할 것이다.</p>
<p><em>=&gt; 사양산업 군에서 독보적으로 영업이익률을 높여가는 기업의 원인을 분석하라.</em></p>
<h3><span id="경기침체는-많은-사람들의-오해를-산다">경기침체는 많은 사람들의 오해를 산다.</span></h3><p>경기침체가 오고 경기가 불황이면 사람들은 많은 주식을 팔아치운다. 이 경우 그 기업의 영업성적과는 관계없이 비정상적인 주가하락이 발생하는데 이 시기야 말로 매수시기이다.</p>
<p>가령 1998년 IMF 시기에도 현대백화점의 영업이익은 꾸준히 전년대비 2배 이상 늘었으나, 주가는 폭락했다. 합리적인 투자자라면 이 기회를 잘 활용했을 것이다.</p>
<h3><span id="영업성적이-좋은데도-per-가-그대로라면">영업성적이 좋은데도 PER 가 그대로라면?</span></h3><p>주식을 누가 들고 있는가는 매우 중요하다. 가령 어떤 회사의 영업이익이 아무리 좋아도, PER 가 늘지 않는다면 그 주식의 보유자와 거래량을 체크하라. 만약 대부분의 주식이 전문 투자사나 특수지분으로 편성되어 있다면, 주식의 거래량이 크게 변할 수 없고, 그만큼 PER 의 변동성도 작다.</p>
<p>하지만 이 경우 장기간에 걸쳐 주가가 반영되지 않을수는 없다. 이런 기업은 어느 순간 거래량이 발생하고 그 잠재력을 발산할 것이다. 갑자기 오는 주가 상승의 기회를 포착해야 한다.</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/06/06/가치투자-독점형-기업-발굴-레포트/" itemprop="url">
                가치투자, 독점형 기업 발굴 레포트
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-06-06T04:47:49.000Z" itemprop="datePublished">
                7 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                13 minutes read (About 1932 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="독점-기업을-발굴하라">독점 기업을 발굴하라</span></h2><p>독점기업은 정부의 입장에서 보면 사회 전체의 이익에 반하는 행동을 할 수 있다는 점에서 제재의 대상이 될 수 있지만, 투자자의 입장에서 보면 상당히 매력적인 기업이다. 이런 기업은 마케팅 비용을 줄여 영업 이익을 극대화 할 수 있으면, 다른 대안이 없고 다른 모든 사람이 사용하기 때문에 가격 인상을 통해 추가적인 영업이익 확보도 가능하다.</p>
<p>독점기업을 찾는 방법은 상당히 단순한데, 주변에서 그 제품을 좋아하지 않음에도 불구하고 어쩔수없이 구매해야 하는 제품들을 찾는 것이다. 가령 내가 ms 의 워드 프로그램을 사용하기 싫더라도 다른 모든 사람들이 문서 프로그램으로 워드를 사용하기 때문에 어쩔수 없이 구매해야 한다.</p>
<h3><span id="자연-독점형-기업">자연 독점형 기업</span></h3><p>먼저 독점 기업 중에서 인위적으로 독점기업이 된 경우가 아닌 자연적으로 독점 지위를 누리게 된 ‘자연 독점형 기업’ 으로 기 범위를 제한한다.</p>
<p>가령, 한전과 같이 정부차원에서 라이센스를 부과한다던가 하는 사유로 독점적 지위를 누리게 된 기업은 정부나 혹은 경제 상황에 따라 그 독점 지위가 존속 가능하지 않을 수 있기 때문에, 이는 배제한다.</p>
<p>이러한 자연독점형 기업들은 몇가지 종류로 나눌수가 있는데, 그 종류는 <strong>표준화로 인한 독점, 기술적 독점, 마케팅 독점, 규모의 독점, 경쟁사 몰락으로 인한 독점</strong>의 경우가 있다.</p>
<h5><span id="표준화">표준화</span></h5><p><em>먼저 표준화 독점이란, 특정 제품이 이미 그 서비스의 표준이 되어 내가 사용하고 싶지 않아도 다른 많은 사람들이 사용하기 때문에 어쩔 수 없이 사용해야 하는 제품을 의미한다.</em></p>
<p>가령 마이크로 소프트의 워드, 엑셀과 같은 프로그램은 내가 아무리 다른 문서 에디터를 사용하고 싶다 하더라도 그 문서를 함께 공유하는 모든 사람들이 이미 마이크로소프트의 제품을 사용하기 때문에, 어쩔 수 없이 사용해야 하는데, 이것이 가장 대표적인 표준화 독점의 사례이다.</p>
<p>필자가 생각하는 국내의 표준화 독과점 기업 중 하나는 <strong>리디북스</strong> 이다. <strong>리디북스</strong> 는 이미 전자책 시장의 60% 를 장악하고 있으며, 필자 또한 리디북스 전자책 단말기의 사용자이다. 리디북스는 다른 전자책 플랫폼과 다르게 타 서비스의 기기에 호환되지 않고, 독자적인 DRM 이 들어가기 때문에, 한번 리디북스 책을 구매했다면, 그 유저는 큰 문제가 있지 않는 한, 계속해서 리디북스에서 전자책을 구매하게 된다. 또한 리디는 도서 정액제 서비스등 유저를 묶어들 많은 서비스들을 내놓고 있으며, 이는 그 독과점 지위를 유지할 수 있는 큰 해자가 된다. 또한, 리디북스의 단말기는 현 유저들에게 많은 사랑을 받고 있으며, 기존에 전자책을 보급하던 많은 업체들(YES24 를 비롯한 대형 서점들) 의 경우 전자책을 판매하고 있지만, 전자책을 읽을 수 있는 디바이스나 어플리케이션들이 비교적 열악하기에 많은 고객이 이탈하여 리디북스로 올 것이라 예상한다.</p>
<p>현재 리디북스의 재무현황의 경우 아직까지 매년 영업 손실을 내고 있지만, 향후 전자책 시장이 성장할 경우 점유율 60% 를 점유중인 리디북스의 영업이익은 꾸준히 성장할 것으로 판단되며, 전자책 공급업의 특성상 연구 개발비를 비롯한 각종 판관비를 매출 증가량에 비해 다소 낮은 비율로 증가할 것으로 예상되기에 영업 성과가 개선될 것으로 판단된다.</p>
<p>하지만, 현재 리디북스는 <strong>비상장 기업</strong> 으로 주식시장에서 거래가 불가능하여, 주식을 구매하기 위해서는 장외주식을 구매하거나 상장할 때까지 기다리는 것 외에는 매수가 불가능 하다.</p>
<h5><span id="기술적-독점">기술적 독점</span></h5><p>기술적 독점은 기업의 뛰어난 기술을 기반으로한 특허 등의 장치로 말미암아 다른 기업이 따라올 수 없는 기술력을 가지는 경우이다. 예로는 비아그라나 퀄컴의 CDMA 칩 등이 있다. 이러한 제품들은 다른 기업이 만들고자 해도 기술력 부족과 특허 문제로 제작이 불가능 하기 때문에, 해당 제품을 독점할 수 있다.</p>
<h5><span id="마케팅-독점">마케팅 독점</span></h5><p>마케팅 독점이란 넓은 유통망을 기반으로한 브랜드 효과로 독점을 누리고 있는 기업이다.</p>
<p>가령 코카콜라나 맥도날드 등의 기업들은 전 세계적인 유통망으로 원가절감을 비롯한 규모의 경제를 누릴 뿐 아니라, 그 브랜드 파워로 인해 소비자들과 좋은 관계를 유지합니다. 이러한 마케팅 파워는 그 자체로 막대한 독점적 지위를 가지게 됩니다.</p>
<p>국내에 이런 마케팅 파워를 통한 브랜드가 있다면, 바로 백종원씨의 더본 코리아가 아닐까 싶습니다. 더본 코리아는 수십개의 프랜차이즈를 운영하고 있으며, 각 프랜차이즈는 백종원의 브랜드를 달고 소비자에게 다가가며, 소비자는 ‘백종원’ 이라는 이름을 믿고 매장에 방문하게 됩니다. 또, 백종원씨가 최근 많은 TV 프로그램에 나오면서, 소비자들에 대한 마케팅 파워를 강화했으며, 그 효과는 그대로 영업 실적에 반영되어 매년 영업이익이 폭발적으로 성장하고 있습니다.</p>
<p>백종원씨의 더본 코리아는 현재 요식업 뿐만이 아니라 호텔 사업등 다양한 라이프 스타일 브랜드를 운영하고 수익을 낼 것으로 보이며, 더본 코리아의 상장 유무에 많은 투자자들의 관심이 집중되고 있습니다.</p>
<h5><span id="규모의-독점">규모의 독점</span></h5><p>막대한 설비 투자처럼 큰 자본을 들여서 생산 환경을 구축해야 하는 사업의 경우 다른 기업이 참여하기 힘들다.</p>
<p>가령 삼성의 반도체라인의 경우 막대한 반도체 공정을 위한 설비투자가 선행되어야 하며, 이는 다른 기업이 들어오지 못하는 큰 독점적 지위를 발생시킨다.</p>
<p>현재 중국의 경우처럼 국가 단위로 설비 투자에 자금을 투입하는 등의 막대한 투자가 뒷바침 되지 않는 이상 삼성전자의 반도체를 꺾는 것은 매우 어렵다.</p>
<h5><span id="경쟁사-몰락">경쟁사 몰락</span></h5><h3><span id="지역-독점형-기업">지역 독점형 기업</span></h3><h3><span id="일류-제품형-기업">일류 제품형 기업</span></h3><p>###</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2019/06/03/aws-sdk-cookbook/" itemprop="url">
                aws sdk cookbook
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-06-03T06:30:41.000Z" itemprop="datePublished">
                7 months ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 7 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h3><span id="setting-aws-region">Setting AWS Region</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AWS_REGION=&apos;us-east-1&apos;</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous is-invisible is-hidden-mobile">
        <a href="/page/0/">Prev</a>
    </div>
    <div class="pagination-next">
        <a href="/page/2/">Next</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link is-current" href="/">1</a></li>
        
        <li><a class="pagination-link" href="/page/2/">2</a></li>
        
        <li><span class="pagination-ellipsis">&hellip;</span></li>
        
        <li><a class="pagination-link" href="/page/23/">23</a></li>
        
    </ul>
</nav>
    
    </div>
</section>

            <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2019 Jake.Lee 이남훈&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" href="https://github.com/frontalnh">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
                <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        //plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110077250-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-110077250-2');
</script>


    


<script src="/js/script.js"></script>

                    
                        <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
                            
</body>

</html>