<!DOCTYPE html>
<html class="has-navbar-fixed-top">

<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>Jake.Lee&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">






<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="/css/style.css">
<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>

</head>

<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/archives">Archives</a>
            
            <a class="navbar-item " href="/categories">Categories</a>
            
            <a class="navbar-item " href="/tags">Tags</a>
            
            <a class="navbar-item " href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" href="https://github.com/frontalnh">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

        <section class="section">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6354931397950820",
    enable_page_level_ads: true
  });
</script>

    <div class="container">
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/02/06/mongodb-데이터-마이그레이션/" itemprop="url">
                2. mongodb 데이터 마이그레이션
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-02-06T03:19:14.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                a minute read (About 112 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <!-- toc -->
<ul>
<li><a href="#개요">개요</a></li>
<li><a href="#데이터-export-하기">데이터 export 하기</a></li>
<li><a href="#export한-데이터-import-하기">export한 데이터 import 하기</a></li>
</ul>
<!-- tocstop -->
<h1><span id="개요">개요</span></h1><p>몽고디비를 서버 이전시에 필요한 코드이다.</p>
<h1><span id="데이터-export-하기">데이터 export 하기</span></h1><p>필요한 데이터베이스의 collection을 json 형태로 내보내는 코드이다.<br>이 경우 -u를 반드시 부쳐 로그인 후에 dump를 수행하도록 하여 authentication을 해 준다.<br>example<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mongoexport -h -h 127.0.0.1:27017 -d databaseName -c collectionName -u userName -o fileName.json</span><br></pre></td></tr></table></figure></p>
<h1><span id="export한-데이터-import-하기">export한 데이터 import 하기</span></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mongoimport -h 127.0.0.1:27017 -d databaseName -c collectionName --file fileName.json</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/02/06/mysql-delete-문의-모든것/" itemprop="url">
                5. mysql delete 문의 모든것
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-02-06T00:19:09.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/mysql-강의/">mysql 강의</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 0 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    
                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/02/06/mysql-update-문의-모든것/" itemprop="url">
                Mysql 강의 04. mysql update 문의 모든것
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-02-06T00:19:00.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/mysql-강의/">Mysql 강의</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 39 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h1><span id="기본-구문">기본 구문</span></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 테이블명 SET 필드명 = &quot;바꿀 값&quot; WHERE 필드명= &quot;조건 값&quot;</span><br></pre></td></tr></table></figure>
<h1><span id="특정-column-값을-increase-시키기">특정 column 값을 increase 시키기</span></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE mytable</span><br><span class="line">  SET logins = logins + 1</span><br><span class="line">  WHERE id = 12</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/02/06/mysql-select-문의-모든것/" itemprop="url">
                3. mysql select 문의 모든것
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-02-06T00:18:52.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/mysql-강의/">mysql 강의</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                3 minutes read (About 407 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <!-- toc -->
<ul>
<li><a href="#특정-문자열이-포함된-데이터-찾기">특정 문자열이 포함된 데이터 찾기</a></li>
<li><a href="#not-exists-존재하지-않는-것만-추가하기">NOT EXISTS / 존재하지 않는 것만 추가하기</a></li>
<li><a href="#left-join-with-group-by">LEFT JOIN WITH GROUP BY</a></li>
<li><a href="#index-부터-특정-갯수만-받아오기">index 부터 특정 갯수만 받아오기</a></li>
<li><a href="#order-by의-활용">ORDER BY의 활용</a></li>
</ul>
<!-- tocstop -->
<h1><span id="특정-문자열이-포함된-데이터-찾기">특정 문자열이 포함된 데이터 찾기</span></h1><p><code>select * from tb_table where name LIKE &#39;%영%&#39;</code></p>
<h1><span id="not-exists-존재하지-않는-것만-추가하기">NOT EXISTS / 존재하지 않는 것만 추가하기</span></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_listnames (name, address, tele)</span><br><span class="line">VALUES (&apos;Rupert&apos;, &apos;Somewhere&apos;, &apos;022&apos;)</span><br><span class="line">WHERE NOT EXISTS (</span><br><span class="line">    SELECT name FROM table_listnames WHERE name=&apos;value&apos;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1><span id="left-join-with-group-by">LEFT JOIN WITH GROUP BY</span></h1><p>여기서 users u가 left table, cars c가 right table이다.</p>
<p>GROUP BY를 활용하여 하나의 유저가 여러개의 엔트리를 가지고 있는데 여기서 가장 큰 값을 기준으로 묶을 수 있다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT u.userName, MAX(c.carPrice)</span><br><span class="line">FROM users u</span><br><span class="line">    LEFT JOIN cars c ON u.id = c.belongsToUser</span><br><span class="line">WHERE u.id = 4;</span><br><span class="line">GROUP BY u.userName;</span><br></pre></td></tr></table></figure></p>
<h1><span id="index-부터-특정-갯수만-받아오기">index 부터 특정 갯수만 받아오기</span></h1><p>index 부터 number개를 받아온다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from table limit (index),(number)</span><br></pre></td></tr></table></figure></p>
<h1><span id="order-by의-활용">ORDER BY의 활용</span></h1><p>받아오는 데이터의 순서를 정렬하기 위해 ORDER BY 구문을 사용한다.<br>기본적인 문법은 다음과 같다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM TB_TABLE WHERE [조건] ORDER BY [열 이름] DESC</span><br><span class="line">SELECT * FROM TB_TABLE WHERE [조건] ORDER BY [열 이름] ASC</span><br></pre></td></tr></table></figure></p>
<p>여기서 ASC의 경우 작은 숫자 혹은 빠른 알파벳부터 큰 수자 혹은 뒤의 알파벳 순으로 정렬하여 받아오며,<br>DESC의 경우는 반대로 정렬하여 받아온다.</p>
<p>만약 받아오는 데이터의 여러가지 COLUMN 값에 따라 2회 이상 정렬하고 싶은 경우는 다음과 같이 나열하면 2개 이상의 ORDER BY를 사용할 수 있다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM TB_TABLE WHERE [조건] ORDER BY [칼럼명1] DESC, [칼럼명2] ASC</span><br></pre></td></tr></table></figure></p>
<p>위 명령어는 칼럼명1에 대해 먼저 정렬하고 동일 조건인 경우 칼럼명2를 기준으로 정렬한다.</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/02/06/mysql-insert-문의-모든것/" itemprop="url">
                2. mysql insert 문의 모든것
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-02-06T00:18:29.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/mysql-강의/">mysql 강의</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                3 minutes read (About 449 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h1><span id="auto_increment의-시작값-변경해-주기">AUTO_INCREMENT의 시작값 변경해 주기</span></h1><p>데이터를 정리하기 위해 시작 하는 primary 키의 AUTO_INCREMENT 값을 변경해 주어야 할 경우가 있다.<br>다음 명령어를 통해 원하는 값부터 다시 AUTO_INCREMENT가 시작되도록 할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE [테이블명] AUTO_INCREMENT=[시작할려는 순서]</span><br></pre></td></tr></table></figure>
<h1><span id="on-duplicate-key를-이용한-중복키-관리">ON DUPLICATE KEY를 이용한 중복키 관리</span></h1><p>여러개의 데이터를 한번에 입력할 때 기존에 있던 데이터는 키값은 유지하고 내용만 변경해야 할 경우가 있다.<br>이 경우는 on duplicate key 를 활용하면 기존에 있던 데이터를 유지하면서 변경된 내용만 업데이트를 시켜줄 수 있다.</p>
<p>example<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO mytable (id, a, b, c)</span><br><span class="line">VALUES (1, &apos;a1&apos;, &apos;b1&apos;, &apos;c1&apos;),</span><br><span class="line">(2, &apos;a2&apos;, &apos;b2&apos;, &apos;c2&apos;),</span><br><span class="line">(3, &apos;a3&apos;, &apos;b3&apos;, &apos;c3&apos;),</span><br><span class="line">(4, &apos;a4&apos;, &apos;b4&apos;, &apos;c4&apos;),</span><br><span class="line">(5, &apos;a5&apos;, &apos;b5&apos;, &apos;c5&apos;),</span><br><span class="line">(6, &apos;a6&apos;, &apos;b6&apos;, &apos;c6&apos;)</span><br><span class="line">ON DUPLICATE KEY UPDATE id=VALUES(id),</span><br><span class="line">a=VALUES(a),</span><br><span class="line">b=VALUES(b),</span><br><span class="line">c=VALUES(c);</span><br></pre></td></tr></table></figure></p>
<h1><span id="insert-ignoe를-이용한-중복키-단순히-무시하기">INSERT IGNOE를 이용한 중복키 단순히 무시하기</span></h1><p>여러개의 데이터를 한번에 입력할 때 기존에 있던 정보는 아예 입력하지 않는 것이 필요한 경우가 있다.<br>이 경우에는 다음과 같이 insert ignore 문을 활용하여 중복된 키를 가지면 입력을 시키지 않도록 할 수 있다.</p>
<p>아래 예제는 unique 키가 두개의 키값에 걸려있는 경우 첫번째 id 값이 입력되지 않아도 insert 문이 동작하기에 다음과 같은 예제를 사용한다.<br>아래의 경우 가령 james라는 키값과 barkely라는 키값에 unique 키가 걸려있고 해당 데이터가 이미 존재하는 경우 아래의 insert 문은 그냥 무시된다.</p>
<p>example<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE person ADD UNIQUE INDEX (first_name, last_name)</span><br><span class="line">INSERT IGNORE INTO person VALUES (NULL, 15, &apos;James&apos;, &apos;Barkely&apos;)</span><br></pre></td></tr></table></figure></p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/02/01/nodejs-페이스북-회원가입/" itemprop="url">
                nodejs 페이스북 회원가입
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-02-01T09:28:12.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                7 minutes read (About 1033 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="개요">개요</span></h2><p>클라이언트에서 웹페이지의 버튼 클릭 등으로 이미 구축해 놓은 server의 url에 페이스북 토큰과 함께 로그인 요청을 보내면, 서버는 passport 모듈을 통해 받은 토큰을 facebook에 보내어 인증을 거치고 페이스북에서 거친 인증값을 담아 서버의 callback 라우터에 요청을 보낸다.<br>서버는 요청을 받고 accessToken을 저장하며 accessToken과 유저정보들을 jwt 암호화를 거쳐 jwt를 발급하여 클라이언트에게 다시 보내어 준다.<br>클라이언트는 받은 jwt를 localStorage에 저장하고 앞으로 자동 로그인시에 해당 jwt 토큰을 사용한다.</p>
<h2><span id="passport-설치">passport 설치</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save passport</span><br><span class="line">npm install --save passport-facebook</span><br></pre></td></tr></table></figure>
<h2><span id="모듈-import-하기">모듈 import 하기</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var NaverStrategy = require(&apos;passport-naver&apos;).Strategy;</span><br><span class="line">var FacebookStrategy = require(&apos;passport-facebook&apos;).Strategy;</span><br><span class="line">var KakaoStrategy = require(&apos;passport-kakao&apos;).Strategy;</span><br></pre></td></tr></table></figure>
<p>필요한 모듈을 import 해준다.</p>
<h2><span id="개발자-정보를-비롯한-기밀-정보들-별도-파일에-저장">개발자 정보를 비롯한 기밀 정보들 별도 파일에 저장</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  &apos;secret&apos; :  &apos;&apos;,</span><br><span class="line">  &apos;db_info&apos;: &#123;</span><br><span class="line">    local: &#123; // localhost</span><br><span class="line">    ...</span><br><span class="line">    &#125;,</span><br><span class="line">    real: &#123; // real</span><br><span class="line">    ...</span><br><span class="line">    &#125;,</span><br><span class="line">    dev: &#123; // dev</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &apos;federation&apos; : &#123;</span><br><span class="line">    &apos;naver&apos; : &#123;</span><br><span class="line">      &apos;client_id&apos; : &apos;&apos;,</span><br><span class="line">      &apos;secret_id&apos; : &apos;&apos;,</span><br><span class="line">      &apos;callback_url&apos; : &apos;/auth/login/naver/callback&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;facebook&apos; : &#123;</span><br><span class="line">      &apos;client_id&apos; : &apos;&apos;,</span><br><span class="line">      &apos;secret_id&apos; : &apos;&apos;,</span><br><span class="line">      &apos;callback_url&apos; : &apos;/auth/login/facebook/callback&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &apos;kakao&apos; : &#123;</span><br><span class="line">      &apos;client_id&apos; : &apos;&apos;,</span><br><span class="line">      &apos;callback_url&apos; : &apos;/auth/login/kakao/callback&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>federation 객체에 네이버, 카카오, 페이스북 Developers 정보를 입력한다.<br>secret.js 민감한 정보를 갖고있는 파일들은 프로젝트 디렉토리에 포함시키지 않는 것이 바람직하다.</p>
<h2><span id="서버코드-작성">서버코드 작성</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">var secret_config = require(&apos;../commons/secret&apos;);</span><br><span class="line">  var secret_config = require(&apos;../_commons/secret&apos;);</span><br><span class="line">  var FacebookStrategy = require(&apos;passport-facebook&apos;).Strategy;</span><br><span class="line">  passport.serializeUser(function(user, done) &#123;</span><br><span class="line">    done(null, user);</span><br><span class="line">  &#125;);</span><br><span class="line">  passport.deserializeUser(function(user, done) &#123;</span><br><span class="line">    done(null, user);</span><br><span class="line">  &#125;);</span><br><span class="line">  passport.use(new FacebookStrategy(&#123;</span><br><span class="line">      clientID: secret_config.federation.facebook.client_id,</span><br><span class="line">      clientSecret: secret_config.federation.facebook.secret_id,</span><br><span class="line">      callbackURL: secret_config.federation.facebook.callback_url,</span><br><span class="line">      profileFields: [&apos;id&apos;, &apos;emails&apos;, &apos;name&apos;] //This</span><br><span class="line">    &#125;,</span><br><span class="line">    function (accessToken, refreshToken, profile, done)&#123;</span><br><span class="line">      console.log(&quot;profile&quot;, profile);</span><br><span class="line">      console.log(&quot;accessToken:&quot;, accessToken);</span><br><span class="line">      var _profile = profile._json;</span><br><span class="line">      loginByThirdparty(&#123;</span><br><span class="line">        &apos;auth_type&apos;: &apos;facebook&apos;,</span><br><span class="line">        &apos;auth_id&apos;: _profile.id,</span><br><span class="line">        &apos;auth_name&apos;: _profile.first_name+&quot; &quot;+_profile.last_name,</span><br><span class="line">        &apos;auth_email&apos;: _profile.email,</span><br><span class="line">        &apos;auth_token&apos;: accessToken</span><br><span class="line">      &#125;, done);</span><br><span class="line">    &#125;</span><br><span class="line">  ));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  router.get(&apos;/facebook&apos;,</span><br><span class="line">    passport.authenticate(&apos;facebook&apos;,&#123;authType: &apos;rerequest&apos;, scope: [&apos;public_profile&apos;, &apos;email&apos;]&#125;)</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  // facebook 로그인 연동 콜백</span><br><span class="line">  router.get(&apos;/facebook/callback&apos;, passport.authenticate(&apos;facebook&apos;,&#123;failureRedirect: &apos;/login/null/null&apos;&#125;),function(req,res)&#123;</span><br><span class="line">    console.log(&quot;REQ&quot;,req);</span><br><span class="line">    console.log(&quot;RES&quot;,res);</span><br><span class="line">        res.redirect(&apos;http://localhost/login/&apos;+req.user.email+&quot;/&quot;+req.user.jwt)</span><br><span class="line">      &#125;</span><br><span class="line">  );</span><br></pre></td></tr></table></figure>
<p>passport.use를 통해 OAuth 요청을 만들어서 네이버 로그인 처리를 진행하고 요청결과를 callback url로 라우팅 시켜줌을 설정한다.<br>먼저 auth/login/facebook으로 요청이 오면 페이스북으로 로그인 요청을 보내고 결과값을 callback url로 보내준다.<br>callback url을 처리하는 라우터는 로그인이 성공할 경우 인덱스 페이지로 리다이렉트 시켜주고 실패할 경우에는 다시 로그인 페이지로 리다이렉트 시켜준다.<br>앵귤러의 경우 특정 페이지에 리다이렉트 되면 컴포넌트가 생성되는 시점에서 query의 뒷부분에 붙은 email 과 jwt를 가지고 jwt는 저장하고 email로 유저의 정보를 받아와 클라이언트에서 사용한다.</p>
<p>/auth/facebook/callback은 페이스북이 검증을 마치고 난 결과를 전송해주는 주소이다.</p>
<h2><span id="서버의-로그인-함수-작성">서버의 로그인 함수 작성</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">function loginByThirdparty(info, done) &#123;</span><br><span class="line">  console.log(&apos;process : &apos; + info.auth_type);</span><br><span class="line">  var stmt_duplicated = &apos;select *from `user` where `user_id` = ?&apos;;</span><br><span class="line">  connection.query(stmt_duplicated, info.auth_id, function (err, result) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">      return done(err);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      if (result.length === 0) &#123;</span><br><span class="line">        // 신규 유저는 회원 가입 이후 로그인 처리</span><br><span class="line">        var stmt_thridparty_signup = &apos;insert into `user` set `user_id`= ?, `nickname`= ?&apos;;</span><br><span class="line">        connection.query(stmt_thridparty_signup, [info.auth_id, info.auth_name], function (err, result) &#123;</span><br><span class="line">          if(err)&#123;</span><br><span class="line">            return done(err);</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">            done(null, &#123;</span><br><span class="line">              &apos;user_id&apos;: info.auth_id,</span><br><span class="line">              &apos;nickname&apos;: info.auth_name</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        //기존유저 로그인 처리</span><br><span class="line">        console.log(&apos;Old User&apos;);</span><br><span class="line">        done(null, &#123;</span><br><span class="line">          &apos;user_id&apos;: result[0].user_id,</span><br><span class="line">          &apos;nickname&apos;: result[0].nickname</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>auth.id 기반으로 신규 회원인지 기존 회원인지 판단한다.<br>신규 회원일 경우에는 user 테이블에 회원 정보를 저장 시키고 로그인 처리를 진행하고, 기존 유저일 경우에는 쿼리로 조회한 회원정보를 기반으로 로그인 처리를 진행합니다.<br>간단하게 말씀드리면 신규회원이든 기존 회원이든 원클릭으로 회원 가입 절차를 진행하게 할 수 있습니다.</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/01/31/스타트업-초기-마케팅/" itemprop="url">
                스타트업 초기 마케팅
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-01-31T00:36:17.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/marketing/">marketing</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                7 minutes read (About 1115 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h1><span id="스타트업-초기-마케팅">스타트업 초기 마케팅</span></h1><p>서비스 초기의 스타트업에게 가장 어려운 부분 중 하나는 바로 효과적인 마케팅을 하는 것이다.<br>최근의 마케팅 트렌드는 SNS를 활용한 컨텐츠 유포를 통한 바이럴 마케팅 인데, 충분하지 못한 자금과 인력을 가진 스타트업에게는 이러한 콘텐츠 하나를 제작하는 것 마저 큰 부담이 된다.<br>이렇듯 충분치 못한 자금과 인력으로도 운영 가능한 훌륭한 여러가지 마케팅 방법들을 소개한다.</p>
<h2><span id="1-블로그-마케팅">1. 블로그 마케팅</span></h2><p>블로그를 활용한 마케팅은 이미 활성화되어 있는 플랫폼의 블로그 기능을 이용하여 사용자들의 유입을 도모하는 것이다.<br>이러한 블로그 마케팅을 해 나감에 있어 핵심적인 요소는 바로 훌륭한 컨텐츠의 생산이다.<br>아무리 블로그 운영에 비용이 들지 않는다고 하더라고 훌륭한 컨텐츠가 제작되지 않는다면 유입률이 보장되지 않으며, 블로그의 경우 사람들이 쉽게 구독을 하지 않으므로 오히려 SNS 채널에 비해 손도 많이가고 지속적인 유입도 확보하기 힘들다.</p>
<p>대부분의 블로그 방문의 경우 유입 경로는 검색포털에서의 검색으로 사람들이 많이 검색을 하는 키워드가 포함된 글의 경우 유입이 높을 수 있다.<br>판매하는 제품이 온라인에서 많이 검색되는 키워드인 경우 이러한 블로그 마케팅이 효과를 볼 수 있다.</p>
<p>검색을 통한 유입을 위해 반드시 <strong>핫한 키워드를 텍스트에 담는 것</strong> 이 매우 중요하다.</p>
<p>블로그의 경우 네이버, 다음 등에서 상위 5개 노출이 핵심이며 그 외의 글들을 사실상 노출되지 않기 때문에 블로그를 활용한 마케팅을 위해서는 지속적으로 포스트를 하며 상위 노출을 시켜야 한다.<br>이처럼 블로그는 검색을 기반으로 하여 유입이 이루어 지기 때문에 최대한 핫한 키워드를 잘 캐치하여 이를 제목 및 본문에 잘 녹여내어야 높은 노출효과를 볼 수 있다.<br>많은 스타트업들의 경우 자신들의 제품을 알리기 위해 정말 제품과 서비스에 대한 상세한 정보를 담으려고 노력하지만 이런식의 포스팅은 검색량이 매우 적기 때문에 높은 노출효과를 보기는 어렵다.</p>
<p><strong><em>즉, 블로그 마케팅의 핵심은 검색량이 많은 주요 키워드를 잘 선정하는 것이다.</em></strong><br>이를 위해 네이버 광고, M-자비스 등의 서비스를 이용하여 광고 키워드를 선별한 뒤에 검색하여 나온 컨텐츠를 면밀히 살펴본 뒤 사람들이 흥미를 느끼는 핵심 키워드를 찾아 정리한 뒤에 이 키워드를 기반으로 포스팅을 하면 높은 노출효과를 얻을 수 있다.</p>
<h2><span id="2-커뮤니티를-통한-마케팅">2. 커뮤니티를 통한 마케팅</span></h2><p>판매하는 제품과 관련이 있는 커뮤니티 그룹에 홍보 글을 올리는 것이다.<br>블로그와 마찬가지로 돈이 들지 않고 일정 정도 이상의 유입이 반드시 보장되지만, 계속 홍보성 글을 올리는 경우 커뮤니티 원들 사이에 좋지 않은 이미지가 확산 될 수 있고, 장기적으로 보면 브랜드 이미지를 해칠 수 있기 때문에 해당 커뮤니티의 분위기에 맞게 간접적으로 홍보할 수 있는 글을 지속적으로 올리는 것이 바람직하다.</p>
<p><strong><em>커뮤니티 목록</em></strong><br><a href="https://www.clien.net/service/" target="_blank" rel="noopener">클리앙</a><br><a href="http://www.slrclub.com/" target="_blank" rel="noopener">SLR 클럽</a><br><a href="http://ruliweb.com/" target="_blank" rel="noopener">루리웹</a><br><a href="http://www.ppomppu.co.kr/search_bbs.php?keyword=%C6%AE%B7%B9%C0%CC%B3%CA" target="_blank" rel="noopener">뽐뿌</a><br><a href="http://pann.nate.com/" target="_blank" rel="noopener">네이트판</a><br><a href="http://www.dcinside.com/" target="_blank" rel="noopener">디시인사이드</a><br><a href="https://reviewrepublic.net/" target="_blank" rel="noopener">리뷰리퍼블릭</a></p>
<hr>
<p><a href="http://www.venturesquare.net/559328" target="_blank" rel="noopener">참고 - 벤처스퀘어</a><br><a href="https://brunch.co.kr/@andrewyhc/52" target="_blank" rel="noopener">참고 - 브런치 / 초기 스타트업의 무료 마케팅 채널</a></p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/01/24/머신러닝강의 5강 - 머신러닝-테스트-및-정확도-향상의-방법론/" itemprop="url">
                머신러닝강의 5강 - 머신러닝 테스트 및 정확도 향상의 방법론
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-01-24T02:42:56.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/machine-learning/">machine learning</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                3 minutes read (About 490 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <!-- toc -->
<ul>
<li><a href="#머신러닝의-정확도">머신러닝의 정확도</a></li>
<li><a href="#적당한-learning-rate의-선택">적당한 learning rate의 선택</a></li>
<li><a href="#정확도-향상을-위한-data-preprocessing">정확도 향상을 위한 data preprocessing</a></li>
<li><a href="#overfitting">overfitting</a></li>
</ul>
<!-- tocstop -->
<h2><span id="머신러닝의-정확도">머신러닝의 정확도</span></h2><p>머신러닝에서의 정확도는 다양한 변인들에 의하여 판가름 난다.<br>그 중 제일 큰 부분을 차지하는 변수는 바로 learning rate, data preprocessing, overfitting 이며 본 강의에서는 각 요소들이 어떻게 영향을 미치고 정확도를 개선 할 방법에 대해 알아본다.</p>
<h2><span id="적당한-learning-rate의-선택">적당한 learning rate의 선택</span></h2><p>learning rate는 gradient descent algorithm을 사용할 때에 학습이 진행됨에 따라 학습의 속도 혹은 변화도를 통제하는 변수이다.<br>만약 learning rate이 너무 크다면 최저점을 찾을 때 1회 이동의 정도가 너무 크기 때문에 발산할 가능성 즉 overshooting의 위험이 있으며, 너무 작으면 속도가 매우 느린 단점이 있다.</p>
<h2><span id="정확도-향상을-위한-data-preprocessing">정확도 향상을 위한 data preprocessing</span></h2><p>만약 입력받은 두 종류의 변수의 크기 차이가 심한 경우 이는 학습에 큰 영향을 미칠 수 있기 때문에 학습 전에 data preprocessing을 거쳐 정확도를 높일 수 있으며, 흔히 normalize라고 불리는 정규화 작업을 거친 뒤 학습을 하게 된다. 이러한 standardize를 위한 수식은 다음과 같다.</p>
<p><img src="\images\gradientDescentAlgorithm을위한Standardization.png" alt="gradient descent algorithm을 위한 standardization"></p>
<h2><span id="overfitting">overfitting</span></h2><p>overfitting이란 학습된 결과가 학습을 위한 데이터에 너무 맞추어져 있는 것을 의미한다.<br>이는 주로 적은 수의 학습데이터가 주어져 있을 경우 발생하기 쉬운데, 넓은 범위의 학습데이터가 아니기 때문에 해당 학습데이터에 치우친 결과값이 나와 정확도가 떨어지는 측면이 있다.<br>이러한 overfitting을 해결하기 위해서는 먼저 충분한 양의 학습데이터를 확보를 하고, 학습하는 feature의 수를 줄이는 것, 또 regularization을 하는 것이 도움이 된다.</p>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/01/23/mongodb-시작하기/" itemprop="url">
                1. mongodb 시작하기
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-01-23T09:47:07.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
            <span class="column is-narrow article-category">
                <i class="far fa-folder"></i>
                <a class="article-category-link" href="/categories/mongodb-강의/">mongodb 강의</a>
            </span>
            
                
                    <span class="column is-narrow">
                        
                            
                                5 minutes read (About 769 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h2><span id="installation">Installation</span></h2><p><strong>installation on ubuntu</strong></p>
<p>먼저 다음과 같이 mongodb가 설치되어 있는지 확인한다.<br>mongod는 서버, mongo는 클라이언트 이다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mongod --version</span><br><span class="line">mongo --version</span><br></pre></td></tr></table></figure>
<p>만약 설치가 되어있지 않다면 다음 명령어로 설치를 진행한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5</span><br><span class="line">echo &quot;deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu precise/mongodb-org/3.6 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.6.list</span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install -y mongodb-org</span><br></pre></td></tr></table></figure></p>
<p>설치가 완료되었다면 아래의 명령어로 서비스를 실행시킨다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod start</span><br></pre></td></tr></table></figure></p>
<p>서비스가 정상적으로 실행되었는지 확인하기 위해 다음과 같은 명령어를 사용한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongodb status</span><br></pre></td></tr></table></figure></p>
<p>이제 다음 명령어로 mongodb에 접속한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo</span><br></pre></td></tr></table></figure></p>
<p>접속이 완료되었다면 database를 관리하기 위한 계정을 만들어야 한다.<br>이 계정을 통해 외부 컴퓨터에서도 본 database에 접근할 수 있게 된다.<br>다음과 같은 admin database에 접근하여 root user를 생성한다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use admin</span><br><span class="line">db.createUser(&#123;user: &quot;root&quot;, pwd: &quot;mypassword&quot;, roles: [&#123; role: &quot;root&quot;, db: &quot;admin&quot; &#125;] &#125;);</span><br></pre></td></tr></table></figure></p>
<p>유저를 생성하였다면 다음 명령어로 설정파일을 열어 authorization을 enabled로 해준다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/mongod.conf</span><br></pre></td></tr></table></figure></p>
<p>설정이 완료되었다면 mongodb를 다시 실행시킨다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod restart</span><br></pre></td></tr></table></figure></p>
<p>다시 시작한 뒤에는 사용할 계정을 만들어 준다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use app    #app 대신에 내가 만들 db명을 선택</span><br><span class="line">db.createUser(</span><br><span class="line"> &#123; user: &quot;app&quot;,</span><br><span class="line"> pwd: &quot;mypassword&quot;,</span><br><span class="line"> roles: [&apos;readWrite&apos;,&apos;userAdmin&apos;] &#125; )</span><br></pre></td></tr></table></figure></p>
<p>생성한 아이디로 로그인 해본다.<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo -uapp -pmypassword app</span><br></pre></td></tr></table></figure></p>
<h4><span id="connect-to-mongodb">connect to mongodb</span></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongo --port &lt;포트&gt; -u <span class="string">"&lt;사용자 계정&gt;"</span> -p <span class="string">"&lt;비밀번호&gt;"</span> --authenticationDatabase <span class="string">"admin"</span></span><br></pre></td></tr></table></figure>
<h2><span id="configuration">Configuration</span></h2><p>보안설정 바꾸기<br>Vim /etc/mongod.conf</p>
<p><a href="https://velopert.com/457" target="_blank" rel="noopener">https://velopert.com/457</a></p>
<p>Authoriztion 사용하기<br><a href="http://www.tutorialbook.co.kr/entry/MongoDB-%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D-authorization-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" target="_blank" rel="noopener">http://www.tutorialbook.co.kr/entry/MongoDB-%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%9D%B8%EC%A6%9D-authorization-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0</a></p>
<h2><span id="basic-concepts">Basic Concepts</span></h2><h3><span id="collection">Collection</span></h3><p>create collection</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.createCollection(name, [options])</span><br></pre></td></tr></table></figure>
<p>delete collection</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.COLLECTION_NAME.drop()</span><br></pre></td></tr></table></figure>
<h3><span id="schema">Schema</span></h3><p>일종의 데이터의 양식이다.<br>이 스키마를 기반으로 모델을 생성한다.</p>
<h3><span id="model">Model</span></h3><p>일종의 커넥션으로 다른 것들은 이 모델 객체에서 바로 수행한다.<br>여기서 새로운 데이터를 저장하는 save를 하기 위해서는 instance를 생성하여야 하고,<br>다른 경우는 이 모델에서 바로 수행한다.</p>
<h3><span id="query">Query</span></h3><h4><span id="update">update</span></h4><p><strong>example</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(&apos;schedule&apos;).update(&#123;&quot;email&quot;:&quot;test&quot;&#125;, &#123;$set:&#123;&quot;email&quot;:&quot;test@test.com&quot;&#125;&#125;, &#123;muti:true&#125;);</span><br></pre></td></tr></table></figure>

위 예제는 query를 만족하는 여러가지 데이터를 한번에 바꾸는 명령이다.
두번째 인자는 update 할 object 부분인데, {$set:{}} 을 넣어 특정 키값을 변경하고 있다.
만약 이렇게 $set 을 사용하지 않으면 해당 데이터가 통으로 교체되어 버린다.

<h3><span id="transaction">Transaction</span></h3><p>서버버전 4 이상에서 제공한다.</p>
<p><a href="https://docs.mongodb.com/manual/reference/command/setFeatureCompatibilityVersion/" target="_blank" rel="noopener">featurecompatibility를 “4.0” 으로 해야한다.</a></p>
<p>commitTransaction()은 sessionEnd 까지 포함된 개념이다.</p>
<h2><span id="uninstallation">Uninstallation</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo service mongod stop</span><br><span class="line">sudo apt-get purge mongodb-org*</span><br><span class="line">sudo rm -r /var/log/mongodb</span><br><span class="line">sudo rm -r /var/lib/mongodb</span><br></pre></td></tr></table></figure>
<h2><span id="cookbook">Cookbook</span></h2><h3><span id="위치-찾기">위치 찾기</span></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.collection.createIndex( &#123; &lt;location field&gt; : <span class="string">"2dsphere"</span> &#125; )</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
        <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/01/22/npm-시작하기/" itemprop="url">
                npm 시작하기
            </a>
            
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-01-22T02:48:45.000Z" itemprop="datePublished">
                a year ago
            </time>
        </span>
        
                
                    <span class="column is-narrow">
                        
                            
                                a few seconds read (About 36 words)
                    </span>
                    
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
        
                    <h1><span id="npm-시작하기">npm 시작하기</span></h1><h2><span id="packagejson-의-항목들-최신버전으로-업데이트하기">package.json 의 항목들 최신버전으로 업데이트하기</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i -g npm-check-updates</span><br><span class="line">npm-check-updates -u</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

                        
    </div>
    
            
</article>



        
    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous">
        <a href="/page/12/">Prev</a>
    </div>
    <div class="pagination-next">
        <a href="/page/14/">Next</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link" href="/">1</a></li>
        
        <li><span class="pagination-ellipsis">&hellip;</span></li>
        
        <li><a class="pagination-link" href="/page/12/">12</a></li>
        
        <li><a class="pagination-link is-current" href="/page/13/">13</a></li>
        
        <li><a class="pagination-link" href="/page/14/">14</a></li>
        
        <li><span class="pagination-ellipsis">&hellip;</span></li>
        
        <li><a class="pagination-link" href="/page/21/">21</a></li>
        
    </ul>
</nav>
    
    </div>
</section>

            <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2019 Jake.Lee 이남훈&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" href="https://github.com/frontalnh">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
                <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        //plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110077250-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-110077250-2');
</script>


    


<script src="/js/script.js"></script>

                    
                        <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
                            
</body>

</html>